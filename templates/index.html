<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <title>PO</title>
</head>
<body>
    <h1>Блок обзор файлов</h1> 
        <main>

        <button onclick="openLoadingScreen()" class="btnDownload"> Загрузить</button>

        <div class="overlay" onclick="closeLoadingScreen()"></div>
        <div class="LoadingScreen">
            <div class="VerhLoadingScreen">
                <h3>Загрузка файлов</h3>
                <button class="close-x" onclick="closeLoadingScreen()"></button>
            </div>
          
            <div class="listFiles">
                <span class="file" id="file-label"></span>
            </div>
            
            <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
                <label class="file-btn" for="showUploadForm">Выбрать файлы</label>
                
                <button class="downloadBtn2" type="submit">Загрузить</button>
                <input id="showUploadForm" name="files" multiple class="custom-file-input" type="file" accept=".jpg, .jpeg, .png, .txt" onchange="updateFileLabel(this.files)">
            </form>
        </div>

        <div class="inputsval1">
            <label class="inputsval">
                <input type="checkbox" id="showAnnotated" value="txt" onchange="filterFiles()">
                Только с разметкой
              </label>
              <br>
              <label class="inputsval">
                <input type="checkbox" id="showValidated" value="val" onchange="filterFiles()" disabled>
                Только с валидацией
              </label>
        </div>


        <div class="viewFiles">
    
            <!-- Список файлов -->
            <div class="listFiles">
            
                <label class="fileList" for="file">Список файлов</label>
                <!-- <span class="file" id="file-label"></span> -->
                <select size="20" id="fruits" name="fruits" onchange="updateImage()">
                    {% for yolka in yolki %}
                        <option value="{{ yolka.photo }}" data-txt="{{ yolka.txt }}">{{ filenames[loop.index0] }}</option>
                    {% endfor %}
                </select>
                
            </div>

            <!-- Выбранный файл -->
            <div class="thatFile">
                Файл: <span id="selectedFileName"></span><br>
                <img id="fileImage" src="" width="400" height="400"><br>


                <!-- <div class="validation">
                    <p>Валидация:</p>
                    дата имя результат<br>
                </div> -->
            </div>
        </div>
        </main>
        



        <div class="blocTwo">
            <h1>Блок создание выборки для обучения</h1>
            
            <label class="inputsval">
                <input type="checkbox" id="showAnnotated" value="txt" onchange="filterFiles()">
                Только с разметкой
              </label>
            

            <div class="listFiles">
            
                <label class="fileList" for="file">Список файлов</label>
                <!-- <span class="file" id="file-label"></span> -->
                <select size="20" id="fruits" name="fruits" onchange="updateImage()" multiple onchange="updateFileCount()">
                    {% for yolka in yolki %}
                        <option value="{{ yolka.photo }}" data-txt="{{ yolka.txt }}">{{ filenames[loop.index0] }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="choiceFiles">

            <!-- Показывается сколько выбрано файлов -->
            <div class="choiceFiles">
                <p id="fileCount">Выбрано файлов: 0 из {{ yolki|length }}</p>
                <p class="auto">Выбрать автоматически <input type="number" name="" id=""> из {{ yolki|length }} файлов </p> 
            </div>

            <!-- Выбираем папку куда сохранить -->
            <form class="saveDataSet" id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
                <label class="file-btn" for="showUploadForm">Выбрать папку</label>
                <button class="downloadBtn2" type="submit">Сохранить</button>
                <input id="showUploadForm" name="files" multiple class="custom-file-input" type="file" accept=".mp4, .mov, .avi, .jpg, .jpeg, .png" onchange="updateFileLabel(this.files)">
            </form>
            </div>
        </div>










        <!-- <label>
            <input type="checkbox" id="showAnnotated" value="txt" onchange="filterFiles()">
            Только с разметкой
        </label>
        <br>
        <label>
            <input type="checkbox" id="showValidated" value="val" onchange="filterFiles()">
            Только с валидацией
        </label>
        <br> -->

        <!-- <form>
            <table>
                <tr>
                    <td valign="top">
                        <label for="fruits">Список файлов:</label><br>
                        <select size="20" id="fruits" name="fruits" onchange="updateImage()">
                            {% for yolka in yolki %}
                                <option value="{{ yolka.photo }}" data-txt="{{ yolka.txt }}">{{ filenames[loop.index0] }}</option>
                            {% endfor %}
                        </select>
                        <br>
                    </td>
    
                    <td valign="top">
                        <br><br><br>
                        Файл: <span id="selectedFileName"></span><br>
                        <img id="fileImage" src="" width="200" height="200"><br>
                        Валидация:<br>
                        дата имя результат<br>
                        дата имя результат<br>
                    </td>
                </tr>
            </table>
        </form> -->
</body>
</html>